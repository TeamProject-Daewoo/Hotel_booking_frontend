<template>
  <div class="test-container">
    <h1>ë„¤ì´ë²„ ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ í˜ì´ì§€</h1>
    <p>ì•„ë˜ì— ë„¤ì´ë²„ ë¡œê·¸ì¸ ë²„íŠ¼ì´ ë³´ì—¬ì•¼ í•©ë‹ˆë‹¤.</p>
    <div id="naverIdLogin"></div>
  </div>
</template>

<script setup>
import { onMounted } from 'vue';

onMounted(() => {
  console.log("NaverTest.vueê°€ ë§ˆìš´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤. ë„¤ì´ë²„ ë¡œê·¸ì¸ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.");

  const initializeNaverLogin = () => {
    if (window.naver && window.naver.LoginWithNaverId) {
      console.log("ë„¤ì´ë²„ SDK ë¡œë“œ í™•ì¸ë¨. init()ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.");
      const naverLogin = new window.naver.LoginWithNaverId({
          clientId: "YOUR_CLIENT_ID", // ğŸ‘ˆ ë³¸ì¸ì˜ CLIENT ID
          callbackUrl: "http://localhost:5173/naver-callback", // ğŸ‘ˆ ë³¸ì¸ì˜ Callback URL
          isPopup: false,
          loginButton: { color: "green", type: 3, height: 50 }
      });
      naverLogin.init();
      console.log("naverLogin.init() í˜¸ì¶œ ì™„ë£Œ.");
    } else {
      console.log("ë„¤ì´ë²„ SDK ë¡œë”© ì¤‘... 100ms í›„ ì¬ì‹œë„.");
      setTimeout(initializeNaverLogin, 100);
    }
  };
  
  initializeNaverLogin();
});
</script>

<style scoped>
.test-container {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
  gap: 20px;
}
</style>